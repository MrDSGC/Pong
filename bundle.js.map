{"version":3,"sources":["webpack:///webpack/bootstrap 2e69cb0de6006456b1be","webpack:///./objects/point.js","webpack:///./objects/object.js","webpack:///./objects/game.js","webpack:///./objects/ball.js","webpack:///./objects/player.js","webpack:///./pong.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;AChEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;;;;;;;;;ACLA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;;;;;;;;;;ACrBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA,KAAK;;;;AAIL;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP,KAAK;AACL;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AAAA;AAAA;;;;;;;;;;ACrPA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;;;;;;;;;;ACRA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AAAA;AAAA;;;;;;;;;;ACZA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA,CAAC","file":"./bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2e69cb0de6006456b1be","export default class Point {\n  constructor ( x = 0, y = 0) {\n    this.x = x;\n    this.y = y;\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./objects/point.js\n// module id = 0\n// module chunks = 0","import Point from './point.js'\n\nexport default class Object {\n  constructor (width, height) {\n    this.pos = new Point;\n    this.size = new Point(width, height)\n  }\n\n  // methods for space object fills in canvas\n  left() {\n    return this.pos.x - this.size.x / 2;\n  }\n  right() {\n    return this.pos.x + this.size.x / 2;\n  }\n  top() {\n    return this.pos.y - this.size.y / 2;\n  }\n  bottom() {\n    return this.pos.y + this.size.y / 2;\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./objects/object.js\n// module id = 1\n// module chunks = 0","import Ball from './ball'\nimport Player from './player'\nexport default class Game {\n  constructor (canvas) {\n\n    //board\n    this.canvas = canvas;\n    this.context = canvas.getContext('2d');\n    this.context.fillStyle = \"#000\";\n    this.context.fillRect(0, 0, this.canvas.width, this.canvas.height);\n    this.context.setLineDash([15, 20]);\n    this.context.beginPath();\n    this.context.moveTo(300,0);\n    this.context.lineTo(300, 400);\n    this.context.strokeStyle = '#FFFFFF';\n    this.context.stroke();\n\n    //players\n    this.players = [new Player, new Player,];\n    this.players[0].pos.x = 35;\n    this.players[1].pos.x = this.canvas.width - 35;\n    this.players.forEach(player => player.pos.y = this.canvas.height / 2);\n\n    //ball\n    this.ball = new Ball;\n    this.ball.pos.x = 300;\n    this.ball.pos.y = 200;\n    this.ball.vel.x = 0;\n    this.ball.vel.y = 0;\n\n\n    //score\n    this.pixelSize = 10;\n    this.scoreCode =  [\n        'xxxxoxxoxxoxxxx',\n        'oxooxooxooxooxo',\n        'xxxooxxxxxooxxx',\n        'xxxooxxxxooxxxx',\n        'xoxxoxxxxooxoox',\n        'xxxxooxxxooxxxx',\n        'xxxxooxxxxoxxxx',\n        'xxxooxooxooxoox',\n        'xxxxoxxxxxoxxxx',\n        'xxxxoxxxxooxxxx',\n    ].map( code => {\n      const score = document.createElement('canvas');\n      const size = this.pixelSize\n      score.height = size * 5;\n      score.width = size * 3;\n      const context = score.getContext('2d');\n      context.fillStyle='#FFFFFF';\n      code.split('').forEach((char, idx) => {\n        if (char === 'x') {\n          context.fillRect((idx % 3) * size, (idx / 3 | 0) * size, size, size );\n        };\n      })\n\n      return score\n    });\n\n\n\n    //constants\n    const start_vel_x = [2.2, -2.2, 2.5, -2.5, 3, -3]\n    const start_vel_y = [1, -1, 1.5, -1.5, 2, -2]\n    let hitByte = new Audio('sounds/collision.wav')\n    let hitByte2 = new Audio('sounds/collision2.wav')\n    this.hitArraySounds = [hitByte, hitByte2]\n    this.scoreByte = new Audio('sounds/score_sound.wav')\n\n\n    //key events\n    window.addEventListener('keydown', event => {\n      if (event.keyCode === 87) {\n        //up\n        this.players[0].vel.y = -3\n      } else if (event.keyCode === 83) {\n        //down\n        this.players[0].vel.y = 3\n      } else if (\n        event.keyCode === 32 &&\n        this.ball.vel.x === 0 &&\n        this.players[0].score < 10 &&\n        this.players[1].score < 10) {\n        //space\n        this.ball.vel.x = start_vel_x[Math.floor(Math.random()*start_vel_x.length)];\n        this.ball.vel.y = start_vel_y[Math.floor(Math.random()*start_vel_y.length)];\n\n      }\n    });\n    window.addEventListener('keyup', event => {\n      this.players[0].vel.y = 0\n    });\n\n    //runs the game\n    window.setInterval(this.updateFrame.bind(this),10)\n\n  }\n\n  reset() {\n    this.ball.pos.x = 300;\n    this.ball.pos.y = 200;\n    this.ball.vel.x = 0;\n    this.ball.vel.y = 0;\n    this.players[0].vel.y = 0;\n    this.players.forEach(player => {\n      player.pos.y = this.canvas.height / 2\n      player.score = 0\n    });\n\n    document.getElementById(\"play-again\").className = \"invisible\"\n    document.getElementById(\"win-left\").className = \"invisible\"\n    document.getElementById(\"win-right\").className = \"invisible\"\n  }\n\n  resetGame () {\n    this.ball.pos.x = 300;\n    this.ball.pos.y = 200;\n    this.ball.vel.x = 0;\n    this.ball.vel.y = 0;\n    this.players[0].vel.y = 0;\n    this.players.forEach(player => player.pos.y = this.canvas.height / 2);\n  }\n\n\n  collide(player, ball) {\n    if (player.left() < ball.right() && player.right() > ball.left() &&\n    player.top() < ball.bottom() && player.bottom() > ball.top()) {\n      ball.vel.x = -ball.vel.x * 1.02;\n      if(!this.canvas.muted) {\n        this.hitArraySounds[Math.floor(Math.random()*this.hitArraySounds.length)].play()\n      }\n    }\n  }\n\n  endgame() {\n    if (this.players[0].score === 10) {\n      this.renderHumanWinner()\n      document.getElementById(\"play-again\").className = \"visible\"\n    } else if (this.players[1].score === 10) {\n      this.renderCompWinner()\n      document.getElementById(\"play-again\").className = \"visible\"\n    }\n\n  }\n\n  render () {\n    this.clear();\n    this.renderScore();\n    this.renderObj(this.ball);\n    this.renderObj(this.players[0]);\n    this.renderObj(this.players[1]);\n  }\n\n  clear () {\n    this.context.fillStyle = '#000';\n    this.context.fillRect(0, 0, this.canvas.width, this.canvas.height);\n    this.context.setLineDash([15, 15]);\n    this.context.beginPath();\n    this.context.moveTo(300,0);\n    this.context.lineTo(300, 400);\n    this.context.strokeStyle = '#FFFFFF';\n    this.context.stroke();\n  }\n\n  renderObj (object) {\n    this.context.fillStyle = '#fff';\n    this.context.fillRect(object.left(), object.top(), object.size.x, object.size.y);\n  }\n\n  renderScore() {\n    const scorePos = this.canvas.width / 3;\n    const scoreWidth = this.pixelSize * 4;\n    this.players.forEach((player, idx) => {\n      const digits = player.score.toString().split('');\n      const offset = scorePos * (idx + 1) - (scoreWidth * digits.length / 2) + this.pixelSize / 2\n\n      digits.forEach((digit, pos) => {\n        this.context.drawImage(this.scoreCode[digit|0], offset + pos * scoreWidth, 20);\n      })\n    })\n  }\n\n\n  renderWinner () {\n    document.getElementById(\"win-left\").className = \"visible\"\n  }\n\n  renderCompWinner () {\n    document.getElementById(\"win-right\").className = \"visible\"\n  }\n\n\n  updateFrame () {\n    const variation = [1.05, 1.07, 1.09, 1.11]\n    this.ball.pos.x += this.ball.vel.x ;\n    this.ball.pos.y += this.ball.vel.y ;\n    this.players[0].pos.y += this.players[0].vel.y ;\n    if (this.ball.vel.y < 0 && this.ball.top() < 0 ||\n        this.ball.vel.y > 0 && this.ball.bottom() > this.canvas.height) {\n        this.ball.vel.y = -this.ball.vel.y * variation[Math.floor(Math.random()*variation.length)]\n        if(!this.canvas.muted) {\n          this.hitArraySounds[Math.floor(Math.random()*this.hitArraySounds.length)].play()\n        }\n    }\n\n    if (this.ball.right() < 0 || this.ball.left() > this.canvas.width) {\n        ++this.players[this.ball.vel.x < 0 | 0].score;\n        if(!this.canvas.muted) {\n          this.scoreByte.play()\n        }\n        this.resetGame();\n    }\n    const compSpeed = [1.3, 1.4, 1.5, 1.55]\n    let speed = 1\n    if (this.players[0].score > 8) {\n      speed = compSpeed[3]\n    } else if (this.players[0].score > 6) {\n      speed = compSpeed[2]\n    } else if (this.players[0].score > 4) {\n      speed = compSpeed[1]\n    } else {\n      speed = compSpeed[0]\n    }\n    if (this.players[1].pos.y < this.ball.pos.y) {\n      this.players[1].pos.y+= speed\n    } else if (this.players[1].pos.y > this.ball.pos.y ) {\n      this.players[1].pos.y-= speed\n    }\n\n    this.players.forEach(player => {\n      if (player.top() < 0) {\n        player.pos.y+= 3\n      } else if (player.bottom() > this.canvas.height) {\n        player.pos.y-= 3\n      }\n    })\n\n    this.players.forEach(player => {\n      this.collide(player, this.ball);\n    });\n\n    this.render();\n    this.endgame();\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./objects/game.js\n// module id = 2\n// module chunks = 0","import Object from  './object.js';\nimport Point from './point.js';\n\nexport default class Ball extends Object {\n  constructor() {\n    super(10, 10);\n    this.vel = new Point;\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./objects/ball.js\n// module id = 3\n// module chunks = 0","import Object from './object';\nimport Point from './point';\n\n\nexport default class Player extends Object {\n  constructor () {\n    super(5, 60);\n    this.vel = new Point;\n    this.score = 0\n\n  }\n\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./objects/player.js\n// module id = 4\n// module chunks = 0","import Game from './objects/game.js'\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const canvas = document.getElementById(\"game\");\n  const pong = new Game(canvas);\n\n  document.getElementById(\"mute-button\").onclick = () => {\n    if(pong.canvas.muted) {\n      pong.canvas.muted = false;\n    } else {\n      pong.canvas.muted = true;\n    }\n  }\n\n  document.getElementById(\"play-again\").onclick =() => {\n    pong.reset()\n  }\n\n})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./pong.js\n// module id = 5\n// module chunks = 0"],"sourceRoot":""}